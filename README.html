<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>README.utf8.md</title>

<script src="README_files/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="README_files/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="README_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="README_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="README_files/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="README_files/navigation-1.1/tabsets.js"></script>
<link href="README_files/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="README_files/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>



<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<div class="fluid-row" id="header">




</div>


<div id="ggord" class="section level2">
<h2>ggord</h2>
<div id="marcus-w.-beck-mbafs2012gmail.com" class="section level4">
<h4><em>Marcus W. Beck, <a href="mailto:mbafs2012@gmail.com">mbafs2012@gmail.com</a></em></h4>
<p><a href="https://travis-ci.org/fawda123/ggord"><img src="https://travis-ci.org/fawda123/ggord.png?branch=master" alt="Travis-CI Build Status" /></a><a href="https://ci.appveyor.com/project/fawda123/ggord"><img src="https://ci.appveyor.com/api/projects/status/github/fawda123/ggord?branch=master&amp;svg=true" alt="AppVeyor Build Status" /></a><a href="https://zenodo.org/badge/latestdoi/35334615"><img src="https://zenodo.org/badge/35334615.svg" alt="DOI" /></a></p>
<p>A simple package for creating ordination plots with ggplot2 (aka reinventing the wheel, see <a href="https://github.com/vqv/ggbiplot">this</a> and <a href="https://github.com/kassambara/factoextra">this</a>).</p>
</div>
<div id="installation" class="section level3">
<h3>Installation</h3>
<p>Install the package as follows:</p>
<pre class="r"><code>install.packages(&#39;devtools&#39;)
library(devtools)
install_github(&#39;fawda123/ggord&#39;)
library(ggord)</code></pre>
</div>
<div id="citation" class="section level3">
<h3>Citation</h3>
<p>Please cite the current release as follows:</p>
<p>Marcus W. Beck (2017). ggord: Ordination Plots with ggplot2. R package version 1.0.0. <a href="https://zenodo.org/badge/latestdoi/35334615" class="uri">https://zenodo.org/badge/latestdoi/35334615</a></p>
</div>
<div id="usage" class="section level3">
<h3>Usage</h3>
<p>The following shows some examples of creating biplots using the methods available with ggord. These methods were developed independently from the <a href="https://github.com/vqv/ggbiplot">ggbiplot</a> and <a href="https://github.com/kassambara/factoextra">factoextra</a> packages, though the biplots are practically identical. Most methods are for results from principal components analysis, although methods are available for nonmetric multidimensional scaling, multiple correspondence analysis, correspondence analysis, and linear discriminant analysis. Available methods are as follows:</p>
<pre><code>##  [1] ggord.acm      ggord.ca       ggord.capscale ggord.cca     
##  [5] ggord.coa      ggord.default  ggord.dpcoa    ggord.lda     
##  [9] ggord.mca      ggord.MCA      ggord.metaMDS  ggord.pca     
## [13] ggord.PCA      ggord.ppca     ggord.prcomp   ggord.princomp
## [17] ggord.rda     
## see &#39;?methods&#39; for accessing help and source code</code></pre>
<pre class="r"><code># principal components analysis with the iris data set
# prcomp
ord &lt;- prcomp(iris[, 1:4])

p &lt;- ggord(ord, iris$Species)
p</code></pre>
<p><img src="README_files/figure-html/unnamed-chunk-3-1.png" /><!-- --></p>
<pre class="r"><code>p &lt;- ggord(ord, iris$Species, cols = c(&#39;purple&#39;, &#39;orange&#39;, &#39;blue&#39;))
p</code></pre>
<p><img src="README_files/figure-html/unnamed-chunk-3-2.png" /><!-- --></p>
<pre class="r"><code>library(ggplot2)
p + scale_shape_manual(&#39;Groups&#39;, values = c(1, 2, 3))</code></pre>
<p><img src="README_files/figure-html/unnamed-chunk-3-3.png" /><!-- --></p>
<pre class="r"><code>p + theme_classic()</code></pre>
<p><img src="README_files/figure-html/unnamed-chunk-3-4.png" /><!-- --></p>
<pre class="r"><code>p + theme(legend.position = &#39;top&#39;)</code></pre>
<p><img src="README_files/figure-html/unnamed-chunk-3-5.png" /><!-- --></p>
<pre class="r"><code># transparent ellipses
p &lt;- ggord(ord, iris$Species, poly = FALSE)
p</code></pre>
<p><img src="README_files/figure-html/unnamed-chunk-3-6.png" /><!-- --></p>
<pre class="r"><code># change linetype for transparent ellipses
p &lt;- ggord(ord, iris$Species, poly = FALSE, polylntyp = iris$Species)
p</code></pre>
<p><img src="README_files/figure-html/unnamed-chunk-3-7.png" /><!-- --></p>
<pre class="r"><code># convex hulls 
p &lt;- ggord(ord, iris$Species, ellipse = FALSE, hull = TRUE)
p</code></pre>
<p><img src="README_files/figure-html/unnamed-chunk-3-8.png" /><!-- --></p>
<pre class="r"><code># change the vector labels with vec_lab
new_lab &lt;- list(Sepal.Length = &#39;SL&#39;, Sepal.Width = &#39;SW&#39;, Petal.Width = &#39;PW&#39;,
  Petal.Length = &#39;PL&#39;)
p &lt;- ggord(ord, iris$Species, vec_lab = new_lab)
p</code></pre>
<p><img src="README_files/figure-html/unnamed-chunk-3-9.png" /><!-- --></p>
<pre class="r"><code># observations as labels from row names
p &lt;- ggord(ord, iris$Species, obslab = TRUE)
p</code></pre>
<p><img src="README_files/figure-html/unnamed-chunk-3-10.png" /><!-- --></p>
<pre class="r"><code># map a variable to point sizes
p &lt;- ggord(ord, grp_in = iris$Species, size = iris$Sepal.Length, sizelab = &#39;Sepal\nlength&#39;)
p</code></pre>
<p><img src="README_files/figure-html/unnamed-chunk-3-11.png" /><!-- --></p>
<pre class="r"><code># change vector scaling, arrow length, line color, size, and type
p &lt;- ggord(ord, grp_in = iris$Species, arrow = 1, vec_ext = 3, veccol = &#39;red&#39;, veclsz = 1, vectyp = &#39;dotted&#39;)
p</code></pre>
<p><img src="README_files/figure-html/unnamed-chunk-3-12.png" /><!-- --></p>
<pre class="r"><code># change color of text labels on vectors, use ggrepel to prevent text overlap
p &lt;- ggord(ord, grp_in = iris$Species, labcol = &#39;purple&#39;, repel = TRUE)
p</code></pre>
<p><img src="README_files/figure-html/unnamed-chunk-3-13.png" /><!-- --></p>
<pre class="r"><code># faceted by group
p &lt;- ggord(ord, iris$Species, facet = TRUE, nfac = 1)
p</code></pre>
<p><img src="README_files/figure-html/unnamed-chunk-3-14.png" /><!-- --></p>
<pre class="r"><code># principal components analysis with the iris dataset
# princomp
ord &lt;- princomp(iris[, 1:4])

ggord(ord, iris$Species)</code></pre>
<p><img src="README_files/figure-html/unnamed-chunk-3-15.png" /><!-- --></p>
<pre class="r"><code># principal components analysis with the iris dataset
# PCA
library(FactoMineR)

ord &lt;- PCA(iris[, 1:4], graph = FALSE)

ggord(ord, iris$Species)</code></pre>
<p><img src="README_files/figure-html/unnamed-chunk-3-16.png" /><!-- --></p>
<pre class="r"><code># principal components analysis with the iris dataset
# dudi.pca
library(ade4)

ord &lt;- dudi.pca(iris[, 1:4], scannf = FALSE, nf = 4)

ggord(ord, iris$Species)</code></pre>
<p><img src="README_files/figure-html/unnamed-chunk-3-17.png" /><!-- --></p>
<pre class="r"><code># multiple correspondence analysis with the tea dataset
# MCA
data(tea, package = &#39;FactoMineR&#39;)
tea &lt;- tea[, c(&#39;Tea&#39;, &#39;sugar&#39;, &#39;price&#39;, &#39;age_Q&#39;, &#39;sex&#39;)]

ord &lt;- MCA(tea[, -1], graph = FALSE)

ggord(ord, tea$Tea)</code></pre>
<p><img src="README_files/figure-html/unnamed-chunk-3-18.png" /><!-- --></p>
<pre class="r"><code># multiple correspondence analysis with the tea dataset
# mca
library(MASS)

ord &lt;- mca(tea[, -1])

ggord(ord, tea$Tea)</code></pre>
<p><img src="README_files/figure-html/unnamed-chunk-3-19.png" /><!-- --></p>
<pre class="r"><code># multiple correspondence analysis with the tea dataset
# acm
ord &lt;- dudi.acm(tea[, -1], scannf = FALSE)

ggord(ord, tea$Tea)</code></pre>
<p><img src="README_files/figure-html/unnamed-chunk-3-20.png" /><!-- --></p>
<pre class="r"><code># nonmetric multidimensional scaling with the iris dataset
# metaMDS
library(vegan)
ord &lt;- metaMDS(iris[, 1:4])

ggord(ord, iris$Species)</code></pre>
<p><img src="README_files/figure-html/unnamed-chunk-3-21.png" /><!-- --></p>
<pre class="r"><code># linear discriminant analysis
# example from lda in MASS package
ord &lt;- lda(Species ~ ., iris, prior = rep(1, 3)/3)

ggord(ord, iris$Species)</code></pre>
<p><img src="README_files/figure-html/unnamed-chunk-3-22.png" /><!-- --></p>
<pre class="r"><code># correspondence analysis
# dudi.coa
ord &lt;- dudi.coa(iris[, 1:4], scannf = FALSE, nf = 4)

ggord(ord, iris$Species)</code></pre>
<p><img src="README_files/figure-html/unnamed-chunk-3-23.png" /><!-- --></p>
<pre class="r"><code># correspondence analysis
# ca
library(ca)
ord &lt;- ca(iris[, 1:4])

ggord(ord, iris$Species)</code></pre>
<p><img src="README_files/figure-html/unnamed-chunk-3-24.png" /><!-- --></p>
<pre class="r"><code># double principle coordinate analysis (DPCoA)
# dpcoa
library(ade4)
data(ecomor)
grp &lt;- rep(c(&quot;Bu&quot;, &quot;Ca&quot;, &quot;Ch&quot;, &quot;Pr&quot;), each = 4)    # sample groups
dtaxo &lt;- dist.taxo(ecomor$taxo)                    # taxonomic distance between species
ord &lt;- dpcoa(data.frame(t(ecomor$habitat)), dtaxo, scan = FALSE, nf = 2)
 
ggord(ord, grp_in = grp, ellipse = FALSE, arrow = 0.2, txt = 3)</code></pre>
<p><img src="README_files/figure-html/unnamed-chunk-3-25.png" /><!-- --></p>
<pre class="r"><code># phylogenetic PCA
# ppca
library(adephylo)
library(phylobase)
library(ape)

data(lizards)

# example from help file, adephylo::ppca
# original example from JOMBART ET AL 2010

# build a tree and phylo4d object
liz.tre &lt;- read.tree(tex=lizards$hprA)
liz.4d &lt;- phylobase::phylo4d(liz.tre, lizards$traits)

# remove duplicated populations
liz.4d &lt;- phylobase::prune(liz.4d, c(7,14))


# correct labels
lab &lt;- c(&quot;Pa&quot;, &quot;Ph&quot;, &quot;Ll&quot;, &quot;Lmca&quot;, &quot;Lmcy&quot;, &quot;Phha&quot;, &quot;Pha&quot;,
         &quot;Pb&quot;, &quot;Pm&quot;, &quot;Ae&quot;, &quot;Tt&quot;, &quot;Ts&quot;, &quot;Lviv&quot;, &quot;La&quot;, &quot;Ls&quot;, &quot;Lvir&quot;)
tipLabels(liz.4d) &lt;- lab

# remove size effect
dat &lt;- tdata(liz.4d, type=&quot;tip&quot;)
dat &lt;- log(dat)
newdat &lt;- data.frame(lapply(dat, function(v) residuals(lm(v~dat$mean.L))))
rownames(newdat) &lt;- rownames(dat)
tdata(liz.4d, type=&quot;tip&quot;) &lt;- newdat[,-1] # replace data in the phylo4d object

# create ppca
liz.ppca &lt;- ppca(liz.4d,scale=FALSE,scannf=FALSE,nfposi=1,nfnega=1, method=&quot;Abouheif&quot;)

# plot
ggord(liz.ppca)</code></pre>
<p><img src="README_files/figure-html/unnamed-chunk-3-26.png" /><!-- --></p>
<pre class="r"><code>######
# triplots

# redundancy analysis
# rda from vegan
data(varespec)
data(varechem)
ord &lt;- rda(varespec, varechem)

ggord(ord)</code></pre>
<p><img src="README_files/figure-html/unnamed-chunk-3-27.png" /><!-- --></p>
<pre class="r"><code># distance-based redundancy analysis, from vegan
ord &lt;- capscale(varespec ~ N + P + K + Condition(Al), varechem, dist = &quot;bray&quot;)

ggord(ord)</code></pre>
<p><img src="README_files/figure-html/unnamed-chunk-3-28.png" /><!-- --></p>
<pre class="r"><code># canonical correspondence analysis
# cca from vegan
ord &lt;- cca(varespec, varechem)

ggord(ord)</code></pre>
<p><img src="README_files/figure-html/unnamed-chunk-3-29.png" /><!-- --></p>
<pre class="r"><code># species points as text
# suppress site points
ggord(ord, ptslab = TRUE, size = NA, addsize = 5, parse = TRUE)</code></pre>
<p><img src="README_files/figure-html/unnamed-chunk-3-30.png" /><!-- --></p>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
